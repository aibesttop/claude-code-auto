# Autonomous Mode ä½¿ç”¨æŒ‡å—

**æ¢å¤v1.0çš„"çµé­‚"** - AIè‡ªä¸»åˆ¤æ–­å¾ªç¯

---

## ğŸ¯ ä»€ä¹ˆæ˜¯Autonomous Modeï¼Ÿ

Autonomous Modeæ˜¯v1.0æ ¸å¿ƒç†å¿µçš„å›å½’ï¼š**è®©AIè‡ªå·±å†³å®šä»»åŠ¡æ˜¯å¦å®Œæˆå¾—è¶³å¤Ÿå¥½**ã€‚

### æ ¸å¿ƒåŒºåˆ«

**ä¼ ç»Ÿæ¨¡å¼ï¼ˆéªŒè¯è§„åˆ™ï¼‰**ï¼š
```yaml
validation_rules:
  - type: "file_exists"      # ç¡¬ç¼–ç è§„åˆ™
    file: "report.md"
  - type: "min_length"       # å›ºå®šé˜ˆå€¼
    min_chars: 1000
```

**Autonomous Modeï¼ˆAIåˆ¤æ–­ï¼‰**ï¼š
```python
# AIåœ¨é•œåƒç¯å¢ƒä¸­åˆ†æ
AI: "è´¨é‡è¯„åˆ† 7/10ï¼Œå»ºè®®æ”¹è¿›æ ¼å¼å’Œæ·±åº¦"
# â†’ è‡ªåŠ¨ç»§ç»­æ”¹è¿›

AI: "è´¨é‡è¯„åˆ† 9/10ï¼Œä»»åŠ¡å®Œæˆ"
# â†’ åœæ­¢å¾ªç¯
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯ç”¨Autonomous Mode

ç¼–è¾‘ `config.yaml`:

```yaml
# Team Mode Configuration
team:
  autonomous_mode: true  # â† è®¾ä¸ºtrue
```

### 2. è¿è¡ŒTeam Mode

```bash
python -m src.main team --config config.yaml
```

### 3. è§‚å¯ŸAIè‡ªä¸»åˆ¤æ–­

æ—¥å¿—ä¸­ä¼šçœ‹åˆ°ï¼š

```
ğŸ”„ Market-Researcher starting AUTONOMOUS mission...
   AI will judge task completion (no validation rules)

ğŸ”„ Autonomous Iteration 1/50
====================================
âœ… Task execution completed
ğŸ” AI analyzing task completion in mirror environment...
ğŸ“Š Quality Score: 7/10
AIåˆ¤æ–­: â³ éœ€è¦ç»§ç»­æ”¹è¿›
ğŸ’¡ AIå»ºè®®ä¸‹ä¸€æ­¥: æ·»åŠ æ›´å¤šæ•°æ®æ”¯æŒï¼Œæ”¹è¿›æŠ¥å‘Šç»“æ„...

ğŸ”„ Autonomous Iteration 2/50
====================================
âœ… Task execution completed
ğŸ” AI analyzing task completion in mirror environment...
ğŸ“Š Quality Score: 9/10
AIåˆ¤æ–­: âœ… æ»¡æ„ï¼Œä»»åŠ¡å®Œæˆ
ğŸ‰ AIåˆ¤æ–­ä»»åŠ¡å·²å®Œæˆï¼
   æ€»è¿­ä»£æ¬¡æ•°: 2
   è´¨é‡æå‡: 7/10 â†’ 9/10
```

---

## ğŸ“‹ å·¥ä½œåŸç†

### v1.0 ä¸‰æ­¥å¾ªç¯ï¼ˆæ¢å¤ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ¯ä¸ªè§’è‰² = ç‹¬ç«‹çš„v1.0å®ä¾‹          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  while iteration < max_iterations:  â”‚
â”‚    â”œâ”€ æ‰§è¡Œä»»åŠ¡                      â”‚
â”‚    â”œâ”€ åˆ›å»ºé•œåƒç¯å¢ƒ                  â”‚
â”‚    â”œâ”€ AIåœ¨é•œåƒä¸­åˆ†æ                â”‚
â”‚    â”œâ”€ AIè¿”å› JSON:                  â”‚
â”‚    â”‚   {                            â”‚
â”‚    â”‚     "completed": true/false,   â”‚
â”‚    â”‚     "quality_score": 0-10,     â”‚
â”‚    â”‚     "next_action": "..."       â”‚
â”‚    â”‚   }                            â”‚
â”‚    â”œâ”€ if quality >= 8: DONE âœ…      â”‚
â”‚    â””â”€ else: æ ¹æ®AIå»ºè®®ç»§ç»­æ”¹è¿›      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é•œåƒåˆ†ææœºåˆ¶

```
work_dir/
  â”œâ”€ report.md          â† å·¥ä½œç›®å½•
  â””â”€ data.json

       â†“ å¤åˆ¶

mirror/
  â””â”€ work_dir_mirror/
      â”œâ”€ report.md      â† AIåœ¨è¿™é‡Œåˆ†æ
      â””â”€ data.json

AIåˆ†æï¼šä¸æ±¡æŸ“å·¥ä½œç›®å½•ï¼Œéš”ç¦»ç¯å¢ƒä¸­è¯„ä¼°
```

---

## ğŸ¨ AIåˆ¤æ–­æç¤ºè¯

AIæ”¶åˆ°çš„åˆ†ææç¤ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ï¼š

```
è¯·åˆ†æå½“å‰å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶å’Œå†…å®¹ï¼Œåˆ¤æ–­ä»¥ä¸‹ä»»åŠ¡çš„å®Œæˆæƒ…å†µï¼š

**ä»»åŠ¡ç›®æ ‡**ï¼šå†™ä¸€ä»½å¸‚åœºè°ƒç ”æŠ¥å‘Š

ä½œä¸º **Market-Researcher** è§’è‰²ï¼Œä½ éœ€è¦è¯„ä¼°ï¼š
1. å½“å‰ä»»åŠ¡æ˜¯å¦å·²ç»å®Œæˆå¾—è¶³å¤Ÿå¥½ï¼Ÿ
2. å¦‚æœæœªå®Œæˆæˆ–å¯ä»¥æ”¹è¿›ï¼Œä¸‹ä¸€æ­¥åº”è¯¥åšä»€ä¹ˆï¼Ÿ
3. å¯¹å½“å‰å·¥ä½œæˆæœçš„è´¨é‡è¯„ä»·

è¯·ä»¥JSONæ ¼å¼å›å¤ï¼š

{
    "completed": true/false,
    "next_action": "...",
    "analysis": "...",
    "quality_score": 0-10,
    "improvement_suggestions": ["...", "..."]
}

è¯„åˆ†æ ‡å‡†ï¼š
- 8-10åˆ†ï¼šä¼˜ç§€ï¼Œå¯ä»¥å®Œæˆ
- 6-7åˆ†ï¼šè‰¯å¥½ï¼Œå»ºè®®å°å¹…æ”¹è¿›
- 4-5åˆ†ï¼šä¸€èˆ¬ï¼Œéœ€è¦æ˜æ˜¾æ”¹è¿›
- 0-3åˆ†ï¼šä¸åˆæ ¼ï¼Œå¿…é¡»é‡åš

**åªæœ‰quality_score >= 8æ—¶ï¼Œæ‰è®¾ç½®completed=true**
```

---

## âš™ï¸ é…ç½®é€‰é¡¹

### config.yaml

```yaml
team:
  autonomous_mode: true   # å¯ç”¨AIåˆ¤æ–­

  # å¯é€‰ï¼šè°ƒæ•´é•œåƒè·¯å¾„
directories:
  mirror_dir: "mirror"    # é•œåƒç¯å¢ƒä½ç½®

# å¯é€‰ï¼šè°ƒæ•´æ¨¡å‹å’Œè¶…æ—¶
claude:
  model: "claude-sonnet-4-5"
  timeout_seconds: 300
```

### è§’è‰²å®šä¹‰ä¸­çš„max_iterations

```yaml
# roles/market_researcher.yaml
mission:
  goal: "..."
  max_iterations: 10  # Autonomous modeä¼šè¦†ç›–ä¸º50
```

**æ³¨æ„**ï¼šAutonomous modeè‡ªåŠ¨è®¾ç½®max_iterations=50ï¼Œå…è®¸AIå……åˆ†è¿­ä»£ã€‚

---

## ğŸ“Š ä¸ä¼ ç»Ÿæ¨¡å¼å¯¹æ¯”

| ç‰¹æ€§ | ä¼ ç»Ÿæ¨¡å¼ | Autonomous Mode |
|------|---------|----------------|
| **åˆ¤æ–­æ ‡å‡†** | ç¡¬ç¼–ç éªŒè¯è§„åˆ™ | AIåŠ¨æ€è¯„ä¼° |
| **å®Œæˆæ¡ä»¶** | `file_exists` + `min_length` | `quality_score >= 8` |
| **æ”¹è¿›æŒ‡å¯¼** | é€šç”¨é”™è¯¯ä¿¡æ¯ | AIå…·ä½“å»ºè®® |
| **å¾ªç¯æ¬¡æ•°** | å›ºå®šmax_iterations | æ™ºèƒ½åœæ­¢ |
| **é€‚åº”æ€§** | è§„åˆ™éœ€é¢„å…ˆå®šä¹‰ | AIæ ¹æ®å®é™…æƒ…å†µåˆ¤æ–­ |
| **è´¨é‡ä¿è¯** | æ»¡è¶³è§„åˆ™å³å¯ | AIæŒç»­æ”¹è¿›ç›´åˆ°æ»¡æ„ |

---

## ğŸ” å®é™…æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šMarket Researcherè§’è‰²

**ä»»åŠ¡**ï¼šè°ƒç ”çŸ¿äº•å·¥ä½œå¸‚åœº

**ä¼ ç»Ÿæ¨¡å¼**ï¼š
```
Iteration 1: âœ… åˆ›å»ºreport.md (2000å­—ç¬¦)
éªŒè¯: âœ… æ–‡ä»¶å­˜åœ¨ + é•¿åº¦è¶³å¤Ÿ
ç»“æœ: å®Œæˆ (å¯èƒ½è´¨é‡ä¸€èˆ¬)
```

**Autonomous Mode**ï¼š
```
Iteration 1:
  æ‰§è¡Œ: åˆ›å»ºåŸºç¡€æŠ¥å‘Š
  AIåˆ¤æ–­: 6/10 - ç¼ºå°‘æ•°æ®æ”¯æŒ
  å»ºè®®: æ·»åŠ ç»Ÿè®¡æ•°æ®å’Œç”¨æˆ·æ¡ˆä¾‹

Iteration 2:
  æ‰§è¡Œ: æ·»åŠ æ•°æ®å’Œæ¡ˆä¾‹
  AIåˆ¤æ–­: 7/10 - ç»“æ„å¯ä»¥æ”¹è¿›
  å»ºè®®: é‡æ–°ç»„ç»‡ç« èŠ‚ï¼Œæ·»åŠ æ€»ç»“

Iteration 3:
  æ‰§è¡Œ: ä¼˜åŒ–ç»“æ„
  AIåˆ¤æ–­: 9/10 - ä¼˜ç§€ï¼Œå¯ä»¥å®Œæˆ
  ç»“æœ: âœ… å®Œæˆï¼ˆè´¨é‡ä¿è¯ï¼‰
```

---

## ğŸ›¡ï¸ å¤±è´¥ä¿æŠ¤

### 1. AIåˆ†æå¤±è´¥fallback

```python
try:
    completed = AIåˆ†æ()
except Exception:
    logger.warning("AIåˆ†æå¤±è´¥ï¼Œä½¿ç”¨éªŒè¯è§„åˆ™fallback")
    completed = ä¼ ç»ŸéªŒè¯()
```

### 2. æœ€å¤§è¿­ä»£é™åˆ¶

```python
max_iterations = 50  # é˜²æ­¢æ— é™å¾ªç¯
if iteration >= max_iterations:
    logger.warning("è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°")
    return {"success": False, "reason": "max_iterations"}
```

### 3. é•œåƒåˆ›å»ºå¤±è´¥

```python
if mirroråˆ›å»ºå¤±è´¥:
    logger.error("é•œåƒåˆ›å»ºå¤±è´¥ï¼Œåœæ­¢æ‰§è¡Œ")
    # ä¸ä¼šç»§ç»­æ±¡æŸ“å·¥ä½œç›®å½•
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ä½•æ—¶ä½¿ç”¨Autonomous Mode

âœ… **é€‚åˆåœºæ™¯**ï¼š
- åˆ›æ„æ€§ä»»åŠ¡ï¼ˆè®¾è®¡ã€å†™ä½œã€ç­–åˆ’ï¼‰
- è´¨é‡è¦æ±‚é«˜çš„ä»»åŠ¡ï¼ˆæŠ¥å‘Šã€æ–‡æ¡£ï¼‰
- éš¾ä»¥ç”¨è§„åˆ™é‡åŒ–çš„ä»»åŠ¡

âŒ **ä¸é€‚åˆåœºæ™¯**ï¼š
- æ˜ç¡®çš„æŠ€æœ¯ä»»åŠ¡ï¼ˆä»£ç æµ‹è¯•é€šè¿‡/å¤±è´¥ï¼‰
- æœ‰å®¢è§‚æ ‡å‡†çš„ä»»åŠ¡ï¼ˆè¯­æ³•æ£€æŸ¥ã€æ ¼å¼éªŒè¯ï¼‰
- éœ€è¦å¿«é€Ÿå®Œæˆçš„ä»»åŠ¡ï¼ˆæ¯æ¬¡è¿­ä»£éƒ½è¦AIåˆ†æï¼‰

### 2. ä¼˜åŒ–æ€§èƒ½

```yaml
team:
  autonomous_mode: true

# ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹è¿›è¡Œåˆ†æ
claude:
  model: "claude-haiku-4"  # æ›´å¿«ä½†å¯èƒ½ä¸å¤Ÿç²¾ç¡®
  # æˆ–
  model: "claude-sonnet-4-5"  # æ…¢ä½†æ›´ç²¾ç¡®
```

### 3. è°ƒè¯•æŠ€å·§

```bash
# æŸ¥çœ‹AIåˆ†æè¯¦æƒ…
grep "AIåˆ¤æ–­" logs/*.log
grep "Quality Score" logs/*.log

# æŸ¥çœ‹è´¨é‡è¿›å±•
grep "è´¨é‡æå‡" logs/*.log
```

---

## ğŸ¯ é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰AIåˆ†ææç¤º

ä¿®æ”¹ `src/core/autonomous/mirror_analyzer.py`:

```python
def _build_analysis_prompt(self, goal, role_name, context):
    # è‡ªå®šä¹‰æç¤ºè¯
    prompt = f"""
    ä½ æ˜¯{role_name}ï¼Œè¯·è¯„ä¼°ä»»åŠ¡å®Œæˆæƒ…å†µ...

    ç‰¹æ®Šè¦æ±‚ï¼š
    - å…³æ³¨å®ç”¨æ€§è€Œéå®Œç¾æ€§
    - è¯„åˆ†æ›´å®½æ¾ï¼ˆ7åˆ†å³å¯å®Œæˆï¼‰
    ...
    """
    return prompt
```

### æ··åˆæ¨¡å¼

```python
# éƒ¨åˆ†è§’è‰²ç”¨AIåˆ¤æ–­ï¼Œéƒ¨åˆ†ç”¨è§„åˆ™
roles = [
    ("Market-Researcher", autonomous=True),   # åˆ›æ„ä»»åŠ¡
    ("Developer", autonomous=False),          # æŠ€æœ¯ä»»åŠ¡ï¼ˆå•å…ƒæµ‹è¯•ï¼‰
    ("Writer", autonomous=True)               # æ–‡æ¡£ä»»åŠ¡
]
```

---

## ğŸ“ˆ ç›‘æ§å’Œå¯è§†åŒ–

### æŸ¥çœ‹è´¨é‡è¿›å±•

Autonomous modeä¼šè®°å½•æ¯æ¬¡è¿­ä»£çš„è´¨é‡è¯„åˆ†ï¼š

```python
result = {
    "quality_scores": [5, 7, 8, 9],  # è´¨é‡æå‡æ›²çº¿
    "iterations": 4,
    "ai_judgment": {
        "completed": True,
        "quality_score": 9,
        "analysis": "..."
    }
}
```

### Dashboardé›†æˆ

å®æ—¶å¯è§†åŒ–ä»ªè¡¨ç›˜ä¼šæ˜¾ç¤ºï¼š
- å½“å‰è´¨é‡è¯„åˆ†
- è¿­ä»£å†å²
- AIå»ºè®®

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šAIä¸€ç›´åˆ¤æ–­æœªå®Œæˆ

**åŸå› **ï¼šè´¨é‡é˜ˆå€¼å¤ªé«˜ï¼ˆ>= 8åˆ†ï¼‰

**è§£å†³**ï¼š
```python
# ä¿®æ”¹ mirror_analyzer.py
if quality_score >= 7:  # é™ä½é˜ˆå€¼
    completed = True
```

### é—®é¢˜2ï¼šé•œåƒåˆ›å»ºå¤±è´¥

**åŸå› **ï¼šç£ç›˜ç©ºé—´ä¸è¶³æˆ–æƒé™é—®é¢˜

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# æ£€æŸ¥æƒé™
ls -la mirror/

# æ¸…ç†æ—§é•œåƒ
rm -rf mirror/*
```

### é—®é¢˜3ï¼šåˆ†æé€Ÿåº¦æ…¢

**åŸå› **ï¼šæ¯æ¬¡è¿­ä»£éƒ½è¦è°ƒç”¨AIåˆ†æ

**è§£å†³**ï¼š
```yaml
# ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹
claude:
  model: "claude-haiku-4"
```

---

## ğŸ‰ æ€»ç»“

Autonomous Modeæ¢å¤äº†v1.0çš„æ ¸å¿ƒç†å¿µï¼š

**è®©AIè‡ªå·±å†³å®šä»»åŠ¡æ˜¯å¦å®Œæˆå¾—å¥½**

è€Œä¸æ˜¯ï¼š
- âŒ äººç±»é¢„è®¾éªŒè¯è§„åˆ™
- âŒ ç¡¬ç¼–ç è´¨é‡æ ‡å‡†
- âŒ å›ºå®šçš„æ–‡ä»¶æ ¼å¼è¦æ±‚

**æ¯ä¸ªè§’è‰²å°±åƒä¸€ä¸ªç‹¬ç«‹çš„v1.0å®ä¾‹ï¼Œè‡ªä¸»åˆ¤æ–­ï¼ŒæŒç»­æ”¹è¿›ï¼Œç›´åˆ°æ»¡æ„ã€‚**

è¿™å°±æ˜¯v1.0çš„"çµé­‚"ã€‚

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `docs/ARCHITECTURE_EVOLUTION_ANALYSIS.md` - æ¶æ„æ¼”å˜åˆ†æ
- `src/core/autonomous/mirror_analyzer.py` - é•œåƒåˆ†æå®ç°
- `src/core/team/role_executor.py` - è‡ªä¸»å¾ªç¯å®ç°
- `config.yaml` - é…ç½®ç¤ºä¾‹

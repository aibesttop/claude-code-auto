# Claude Code 自主工作流配置文件

# 工作目录配置
directories:
  work_dir: "demo_act"           # 实际工作目录
  mirror_dir: "demo_mirror"      # 镜像分析目录
  state_file: "workflow_state.json"  # 状态文件路径
  logs_dir: "logs"               # 日志目录

# 任务配置
task:
  goal: "挖掘出2个在咖啡这个利基市场的app机会"
  initial_prompt: "请扮演一位顶级的用户体验研究员和移动产品策略师。我的商业模式是开发一系列售价1美元、功能单一、体验极致的付费App，并完全依赖ASO（应用商店优化）来获取用户。我的核心策略是，为特定人群在特定场景下遇到的微小但棘手的痛点，提供“外科手术刀”式的解决方案。现在，我需要你对我指定的利基市场进行一次彻底的机会挖掘。"

# 安全限制（P0-1：防止无限循环）
safety:
  max_iterations: 50             # 最大迭代次数
  max_duration_hours: 8          # 最大执行时长（小时）
  emergency_stop_file: ".emergency_stop"  # 紧急停止信号文件
  iteration_timeout_minutes: 30  # 单次迭代超时（分钟）

# 错误处理配置（P0-3）
error_handling:
  max_retries: 3                 # 最大重试次数
  retry_delay_seconds: 5         # 重试延迟（秒）
  continue_on_error: false       # 错误时是否继续
  save_error_logs: true          # 是否保存错误日志

# 会话管理（P1-5）
session:
  session_id_file: "session_id.txt"
  backup_session_file: "session_id.backup.txt"
  session_timeout_hours: 24      # 会话过期时间

# JSON 解析配置（P0-2）
json_parser:
  max_parse_retries: 3           # JSON 解析失败重试次数
  strict_mode: false             # 是否严格模式（严格验证JSON）
  default_confidence: 0.5        # 解析失败时的默认置信度

# 日志配置（P1-6）
logging:
  level: "INFO"                  # 日志级别: DEBUG, INFO, WARNING, ERROR
  format: "detailed"             # 日志格式: simple, detailed, json
  console_output: true           # 是否输出到控制台
  file_output: true              # 是否输出到文件
  max_file_size_mb: 10           # 单个日志文件最大大小（MB）
  backup_count: 5                # 保留的日志文件数量

# Claude SDK 配置
claude:
  permission_mode: "bypassPermissions"  # 权限模式
  model: "claude-sonnet-4-5"     # 模型版本
  timeout_seconds: 300           # API 超时时间

# 性能优化
performance:
  use_incremental_sync: true     # 使用增量同步（而非完整复制）
  exclude_patterns:              # 同步时排除的文件模式
    - "*.pyc"
    - "__pycache__"
    - ".git"
    - "*.log"
    - "session_id*.txt"
    - "workflow_state.json"
